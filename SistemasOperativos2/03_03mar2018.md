## Scheduler (Planificaci√≥n de procesos)

`**PCB/BCP** -> Process Control Block -> Es un archivo de informaci√≥n -> Gesti√≥n de informaci√≥n del proceso(s) [Contiene toda la informaci√≥n relacionada a un proceso] -> ¬øQu√© hace, que se est√° ejecutando, c√≥mo se est√° ejecutando?`

![alt text](images/space_dir.png)

### Tabla de procesos

``` sh
    # Proceso:
    # es un programa en ejecuci√≥n
```

La tabla de procesos contiene todos los PCB's

![alt text](images/proc_table.png)

``` sh
    # UID: Id de usuario
    # GID: Id de grupo
```

### Ubicaci√≥n de procesos

UID -> 0 -> root

![alt text](images/job.png)

#### Sistema Operativo (SO)

Gestiona la tabla de procesos que contienen los PCB's/BCP's

### Creaci√≥n de proceso

Colocar un proceso en memoria

```
Calendarizaci√≥n -> Calendarizador -> Control de tiempo
                    ‚Ü≥ Cuando hayan recursos disponibles para cargar un proceso
```

Los procesos pueden ser o no concurrentes (simultaneos), esto es gestionado por el SO.

**Puntero** => referencia a un espacio de memoria

``` sh
    # temporizador y monitor usuados para gesti√≥n del tiempo de procesador
```

``` sh
    # Planificaci√≥n:
    # Asignaci√≥n eficiente de los recursos
```

### Destrucci√≥n de proceso

Cuando se completa la ejecuci√≥n:

*   Finalizaci√≥n Normal [Voluntario]
*   Finalizaci√≥n con error voluntario [Voluntario]
*   Error Fatal [Involuntario]          `P.ej. un n√∫mero dividido cero`
*   Terminaci√≥n Forzada [Involuntario]  `P.ej. Un proceso con mayor autoridad cierra el proceso actual`

### Estados de un proceso

*   New
*   Running
*   Waiting
*   Ready
*   Terminated

``` sh
    # Esquema ejemplo de los estados de un proceso
    * Proceso nuevo, en memoria, PCB pero aun no admitido   [NEW]
    ü°ì
    * Espera tiempo de procesador                           [READY]
    ü°ì
    * Scheduler asigna nuevos recursos despu√©s de aceptado  [RUNNING]
    ü°ì
    * Espera I/O o un recurso                               [WAITING] luego [READY]
    ü°ì
    * Si espera por tiempo se interrumpe el proceso         [READY]
    |   ‚Ü≥ Espera a que se cumpla el tiempo y continua       [RUNNING]
    ü°ì
    * Al finalizar                                          [TERMINATED]
```

### Procesos suspendidos (swap)

Estado adicional solo en sistemas que implementan **swap**

### Cambio de contexto

Estructurada para gestionar PCB => Contexto

![alt text](images/contexto_hilos.png)

![alt text](images/tbl_proc_mem.png)

![alt text](images/cambio_contexto.png)

Cambio de contexto es cambiar los valores de los registros de la CPU de los valores de un proceso a los valores de otro proceso

El cambio de contexto tambi√©n requiere tiempo de procesador, espacio de tiempo muerto en el que no se puede asignar o despachar un PCB [Overhead]

**Quantum** o **Quanto** es una unidad de tiempo X, que ser√° el tiempo de procesador que se puede asignar a un proceso o cola de procesos.
